import{b as y,r as n,u as P,j as e,B as g}from"./index-BPKYvsHV.js";import{b as C}from"./auth.service-D-j-F9F4.js";import{c as k}from"./countries-DmcBImKE.js";import{I as r}from"./index-DHrIblQl.js";import"./Compact-B4Af6ofP.js";import"./objectWithoutProperties-C75TBmNk.js";import"./ContextIsolator-DqsfBFLf.js";import"./button-KcHuXJc_.js";const z=()=>{const[h]=y(),f=h.get("ref"),[s,p]=n.useState({firstName:"",middleName:"",lastName:"",country:"",phoneNumber:"",email:"",refBy:f||"",password:"",confirmPassword:"",pin:""}),[S,u]=n.useState(!1);n.useState(!1),n.useState(!1);const[E,m]=n.useState(""),[B,c]=n.useState(""),[R,w]=n.useState(!1),N=P(),b=a=>{const o=/[A-Z]/.test(a),t=/\d/.test(a),d=/[@#,!]/.test(a),i=a.length>=8;w(o&&t&&d&&i),m(i?o?t?d?"":"Password must contain at least one special character (@, #, !)":"Password must contain at least one number":"Password must contain at least one uppercase letter":"Password must be at least 8 characters long")},l=a=>{const{name:o,value:t}=a.target;p(d=>({...d,[o]:t})),o==="password"&&(b(t),t!==s.confirmPassword?c("Passwords do not match"):c("")),o==="confirmPassword"&&(t!==s.password?c("Passwords do not match"):c(""))},j=async a=>{if(a.preventDefault(),u(!0),s.password!==s.confirmPassword){c("Passwords do not match"),u(!1);return}const{firstName:o,middleName:t,lastName:d,...i}=s,v=`${o} ${t?t+" ":""}${d}`;try{await C({...i,fullName:v}),g.success("Registration successful!"),N("/signin"),p({firstName:"",middleName:"",lastName:"",country:"",phoneNumber:"",email:"",refBy:"",password:"",confirmPassword:"",pin:""})}catch(x){console.log(x),g.error((x==null?void 0:x.detail)||"An error occurred during registration")}finally{u(!1)}};return e.jsx("div",{className:"w-full px-4 md:px-10 pb-5 flex flex-col  gap-5",children:e.jsxs("div",{className:"w-full relative z-20",children:[e.jsxs("div",{className:"flex flex-col gap-2 mb-7",children:[e.jsx("h1",{className:"text-5xl  md:text-7xl text-white font-medium",children:"Register"}),e.jsx("span",{className:"text-2xl font-normal text-white mb-6 mt-2",children:"Hi. Guest"})]}),e.jsx("form",{className:"flex   flex-col md:flex-row items-center justify-center gap-5 w-full ",children:e.jsxs("div",{className:"w-full flex  flex-col  md:flex-row  gap-5",children:[e.jsxs("div",{className:"w-full md:w-1/2 py-7 px-5 blur-bg border border-ash/20 rounded-md flex flex-col gap-4",children:[e.jsx("h1",{className:"text-2xl text-gray-300 tracking-wider",children:"Information"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsx(r,{type:"text",className:"text-slate-800 text-lg p-3 rounded-lg w-full bg-smoke",placeholder:"First Name",onChange:l,name:"firstName",value:s.firstName}),e.jsx(r,{type:"text",className:"text-slate-800 text-lg p-3 rounded-lg w-full bg-smoke",placeholder:"Middle Name",onChange:l,name:"middleName",value:s.middleName}),e.jsx(r,{type:"text",className:"text-slate-800 text-lg p-3 rounded-lg w-full bg-smoke",placeholder:"Last Name",onChange:l,name:"lastName",value:s.lastName})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsxs("select",{id:"country",name:"country",value:s.country,onChange:l,className:" text-lg rounded-lg w-full p-3 bg-smoke",required:!0,placeholder:"test",children:[e.jsx("option",{value:"",className:"",children:"Select a country"}),k.map(a=>e.jsx("option",{value:a.value,className:"text-charcoalBlue bg-smoke",children:a.label},a.value))]}),e.jsx(r,{type:"number",className:"text-slate-800 text-lg p-3 rounded-lg w-full bg-smoke",placeholder:"Phone Number",onChange:l,name:"phoneNumber",value:s.phoneNumber})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsx(r,{type:"email",className:"text-slate-800 text-lg p-3 rounded-lg w-full bg-smoke",placeholder:"Email",onChange:l,name:"email",value:s.email}),e.jsx(r,{type:"text",className:"text-slate-800 text-lg p-3 rounded-lg w-full bg-smoke",placeholder:"Reffered By",onChange:l,name:"refBy",value:s.refBy})]})]}),e.jsxs("div",{className:"w-full md:w-1/2   flex flex-col gap-3",children:[e.jsxs("div",{className:"py-7 px-5 blur-bg border border-ash/20 rounded-md  flex flex-col gap-3",children:[e.jsx("h1",{className:"text-2xl text-gray-300 tracking-wider",children:"Security"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsx(r.Password,{type:"password",className:"text-slate-800 text-lg p-3 rounded-lg w-full bg-smoke",placeholder:"Password",onChange:l,name:"password",value:s.password}),e.jsx(r.Password,{type:"password",className:"text-slate-800 text-lg p-3 rounded-lg w-full bg-smoke",placeholder:"Confirm Password",onChange:l,name:"confirmPassword",value:s.confirmPassword})]}),e.jsx(r,{type:"text",className:"text-slate-800 text-lg p-3 rounded-lg w-full bg-smoke",placeholder:"Enter PIN",onChange:l,name:"pin",value:s.pin})]}),e.jsx("div",{className:"w-full px-5",children:e.jsx("button",{onClick:j,className:" text-lg font-medium p-3 border  w-full bg-golden text-white rounded-lg",children:"Register"})})]})]})})]})})};export{z as default};
