import{r as l,u as x,j as e,a as u,B as r}from"./index-BPKYvsHV.js";import{v as h}from"./auth.service-D-j-F9F4.js";import{L as p}from"./loader-circle-CKSZ_ffz.js";const v=()=>{const[s,c]=l.useState(""),[i,n]=l.useState(!1),d=x(),m=a=>{const t=a.target.value;t.length<=6&&/^[0-9]*$/.test(t)&&c(t)},o=async a=>{if(a.preventDefault(),s.length!==6){r.error("OTP must be 6 digits");return}n(!0);try{await h(s),r.success("Email verification successful!"),d("/signin")}catch(t){console.error(t),r.error((t==null?void 0:t.detail)||"Invalid OTP. Please try again.")}finally{n(!1)}};return e.jsxs("div",{className:"px-4 md:px-24 pt-4 min-h-screen",children:[e.jsx("div",{className:"border border-primary border-b-0 p-3 min-h-[100vh] flex justify-center items-center",children:e.jsxs("div",{className:"w-full max-w-[400px] bg-accent rounded-md p-4 md:p-8 text-white",children:[e.jsx("h1",{className:"text-2xl mb-6 text-center",children:"Verify Your Email"}),e.jsx("p",{className:"text-center mb-6",children:"Enter the 6-digit OTP sent to your email."}),e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"text",maxLength:"6",value:s,onChange:m,className:"w-full p-3 rounded bg-black text-white text-center text-xl tracking-widest",placeholder:"Enter OTP",required:!0})}),e.jsx("button",{type:"submit",className:"bg-primary w-full py-2 rounded text-dark mt-4 flex items-center justify-center",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):"Verify OTP"})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("p",{className:"text-white",children:["Didnâ€™t receive the code?"," ",e.jsx(u,{to:"#",className:"text-primary underline",children:"Resend OTP"})]})})]})}),e.jsx("div",{className:"hollow-text z-100 touch-none",children:"VERIFY EMAIL"})]})};export{v as default};
